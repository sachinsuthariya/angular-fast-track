import { Component, OnInit } from '@angular/core';
import { FormGroup, FormBuilder, Validators } from '@angular/forms';
import { Router } from "@angular/router";
import { AuthService } from "../../shared/auth.service";
import { HelperService } from "../../shared/helper.service";
@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent implements OnInit {
  logo = "data:image/png;base64,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";
  loginForm: FormGroup;
  constructor(private fb: FormBuilder,
    private authService: AuthService,
    private helperService: HelperService,
    private router: Router) {

    // this.authService.isAuthenticated();



    this.loginForm = this.fb.group({
      email: [null, [Validators.required, Validators.email]],
      password: [null, Validators.required]
    });
  }

  ngOnInit() {
  }

  login() {
    if (!this.loginForm.valid) return this.helperService.showError("Please enter email or password.");
    const data = this.loginForm.value;
    const isLogin = this.authService.login(data);
    if (!isLogin) return this.helperService.showError("Invalid username or password.");
    this.router.navigate(['/home']);
    this.helperService.showSuccess("Login Successfully.");
  }
}
